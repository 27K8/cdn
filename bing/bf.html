<!DOCTYPE html>
<html>
<body>
<meta charset="UTF-8">
<style type="text/css">
    body,html{width:100%;height:100%;background:#000;padding:0;margin:0;overflow-x:hidden;overflow-y:hidden}
    *{margin:0;border:0;padding:0;text-decoration:none}
    #dplayer{position:inherit}
</style>
<div id="dplayer"></div>
<script src="https://cdn.jsdelivr.net/npm/cdnbye@latest/dist/hlsjs-p2p-engine.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@0.14.13"></script>
<script src="https://cdn.jsdelivr.net/npm/cbplayer2@latest"></script>
<script type="text/javascript">

 function GetQueryString(name)
   {
        var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if(r!=null)return  decodeURIComponent(r[2]); return null;
 
   }


var lianjie = GetQueryString("url");
//var lianjie ="<?php echo $_GET["q"]; ?>";
</script>
<script>
    var dp = new CBPlayer({
        container: document.getElementById('dplayer'),
        autoplay: true,
         live: true,
        playState: true,   // 记忆播放
        video: {
            url: lianjie,
        },
        pluginOptions: {
            hls: {
                debug: false,
                p2pConfig: {
                    logLevel: false,
                    // live: true,
                    // Other p2pConfig options provided by CDNBye
                }
            }
        },
    });
</script>
</body>
</html>
